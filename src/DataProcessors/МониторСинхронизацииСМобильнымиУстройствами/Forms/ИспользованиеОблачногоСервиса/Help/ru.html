<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html xmlns:o="urn:schemas-microsoft-com:office:office"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.10570.1001"></meta></head><body>
<h1>Использование облачного сервиса для синхронизации с мобильными устройствами</h1>
<p style="MARGIN: 0cm 0cm 0pt">Для обмена с мобильными приложениями можно использовать облачные сервисы хранения файлов:<o:p></o:p></p>
<ul><li>
<div style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US" style="mso-ansi-language: EN-US">Google Drive<o:p></o:p></span></div>
</li><li>
<div style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US" style="mso-ansi-language: EN-US">Dropbox<o:p></o:p></span></div>
</li><li>
<div style="MARGIN: 0cm 0cm 0pt">Яндекс.Диск<o:p></o:p></div></li></ul><p style="MARGIN: 0cm 0cm 0pt">Чтобы синхронизировать приложения через один из перечисленных сервисов пользователь должен иметь на нем действующий аккаунт и достаточно свободного места.<o:p></o:p></p>
<p style="MARGIN: 0cm 0cm 0pt"> </p>
<h2 style="MARGIN: 0cm 0cm 0pt">Настройка</h2>
<p style="MARGIN: 0cm 0cm 0pt">Начинать настройку следует с настольной программы: <o:p></o:p></p>
<ul><li>
<div style="MARGIN: 0cm 0cm 0pt">задать имя базы<o:p></o:p></div>
</li><li>
<div style="MARGIN: 0cm 0cm 0pt">выбрать облачный сервис<o:p></o:p></div>
</li><li>
<div style="MARGIN: 0cm 0cm 0pt">авторизовать приложение в выбранном сервисе<o:p></o:p></div></li></ul><p style="MARGIN: 0cm 0cm 0pt"><img alt="Настройка облачного сервиса" src="_files/НастройкаОблачногоСеривса2.png"></img></p>
<p style="MARGIN: 0cm 0cm 0pt"> </p>
<p style="MARGIN: 0cm 0cm 0pt">После авторизации настольная программа создаст в облачном каталоге <a name="_Hlk487121618">вспомогательный </a>файл, который будет использоваться для проверки соединения. Без этого файла мобильные приложения не смогут получать из облака файлы с данными и отправлять в облако ответные файлы.<o:p></o:p></p>
<p style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p style="MARGIN: 0cm 0cm 0pt">Аналогичную настройку нужно выполнить и в мобильном приложении:<o:p></o:p></p>
<ul><li>
<div style="MARGIN: 0cm 0cm 0pt">Открыть в Миниденьгах настройку синхронизации. Включить синхронизацию, если еще не включена</div>
</li><li>
<div style="MARGIN: 0cm 0cm 0pt">Указать сценарий первой синхронизации:</div>
<ul><li>
<div style="MARGIN: 0cm 0cm 0pt">если нужно полностью загрузить данные с компьютера, выберите пункт «Заменить данными из настольной программы». Все записи Миниденег будут удалены, вместо них будут загружены данные с компьютера</div>
</li><li>
<div style="MARGIN: 0cm 0cm 0pt">если настольная база пуста, выберите пункт «Выгрузить в пустую настольную базу». Все записи Миниденег будут выгружены в настольную программу. Этот вариант не сработает, если в настольной базе есть хоть какие-то операции или кошельки и прочие справочники.<br>После успешного выполнения первой синхронизации все последующие обмены данными будут выполняться по сценарию «Объединить изменения»</div></li></ul></li><li>
<div style="MARGIN: 0cm 0cm 0pt">включить обмен в облачном сервисе (если еще не включен)</div>
</li><li>
<div style="MARGIN: 0cm 0cm 0pt">указать такое же имя настольной базы, что и в настольной программе</div>
</li><li>
<div style="MARGIN: 0cm 0cm 0pt">выбрать тот же облачный сервис, что в настольной программе<o:p></o:p></div>
</li><li>
<div style="MARGIN: 0cm 0cm 0pt">авторизовать приложение в сервисе под тем же логином, что и в настольной программе</div></li></ul><p style="MARGIN: 0cm 0cm 0pt">При успешной авторизации мобильное приложение найдет в облаке вспомогательный файл, проверит возможность обмениваться данными с настольной базой, и, если все в порядке, добавит в этот файл свои параметры. После этого мобильное приложение будет готово к обмену с настольной программой.</p>
<p class="Important" style="MARGIN: 0cm 0cm 0pt">Обратите внимание: если мобильное приложение уже синхронизировано с другой информационной базой, обмениваться данными с новой базой оно не сможет. <br>Чтобы «отвязать» мобильное приложение от прежней базы и синхронизировать с новой, нужно в мобильном приложении отключить синхронизацию и включить ее снова. </p>
<p style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<h2 style="MARGIN: 0cm 0cm 0pt"><o:p>Синхронизация</o:p></h2>
<p style="MARGIN: 0cm 0cm 0pt">Приложения используют каталог облачного сервиса для обмена файлами. При этом инициатором синхронизации должно выступать мобильное приложение. </p>
<p style="MARGIN: 0cm 0cm 0pt"><o:p>Сначала убедитесь, что интернет доступен и на мобильном устройстве и на компьютере с программой. </o:p></p><o:p><p class="Important">Обратите внимание: при обмене могут передаваться значительные объемы данных и в случае мобильного интернета это может привести к дополнительным платежам.</p></o:p>
<ol><li>
<div style="MARGIN: 0cm 0cm 0pt">Откройте Мниниденьги на мобильном устройстве и нажмите кнопку <strong class="ControlElement">Синхронизировать</strong>. Если включено несколько способов синхронизации, выберите в главном меню команду <strong class="ControlElement">Синхронизировать через облако</strong>. Мобильное приложение скачает из облака адресованные ему файлы и выгрузит в облако изменения, накопленные с момента последнего обмена;<o:p></o:p></div>
</li><li>
<div style="MARGIN: 0cm 0cm 0pt">Откройте настольную программу на компьютере и выберите в меню <strong class="ControlElement">Сервис</strong> команду <strong class="ControlElement">Синхронизация с мобильными устройствами</strong>. Если настроена автоматическая синхронизация по расписанию, подождите, пока программа отработает фоновое задание синхронизации. Или нажмите ссылку <strong class="ControlElement">Синхронизировать</strong> в верхней панели формы синхронизации. Программа загрузит из облака входящие файлы от мобильных устройств, обработает их и выгрузит в облако файлы ответов.<br>Ответные файлы содержат последние изменения и актуальные остатки, а потому выгружаются для всех устройств, зарегистрировавшихся во вспомогательном файле списка, независимо от того, были ли от них входящие файлы, или нет;<o:p></o:p></div>
</li><li>
<div style="MARGIN: 0cm 0cm 0pt">Снова откройте Миниденьги на мобильном устройстве и еще раз выполните синхронизацию через облачный сервис. После того, как мобильное приложение прочитает файл ответа от настольной программы, синхронизацию можно считать завершенной. <o:p> </o:p></div></li></ol><p style="MARGIN: 0cm 0cm 0pt">Если учет ведется на нескольких мобильных устройствах, желательно сначала выполнить синхронизацию на всех них. После этого запустить синхронизацию в настольной программе, а потом уже можно будет снова синхронизировать мобильные приложения. <o:p></o:p></p>
<p style="MARGIN: 0cm 0cm 0pt"> </p>
<p style="MARGIN: 0cm 0cm 0pt">Иногда в облаке могут оказаться устаревшие файлы обмена. Например, мобильное приложение прочитало файл от настольной программы, но не смогло удалить его из облака, или настольная программа выгрузила файл в облако до выполнения синхронизации в домашней сети. В любом случае, перед чтением файла мобильное приложение проверяет номер сообщения, и, если он меньше или равен номеру уже принятого сообщения, такой файл загружен не будет, а пользователю будет показано сообщение об ошибке.<br>В этом случае следуе еще раз выполнить синхронизацию сначала в мобильном приложении, затем в настольной программе, и опять в мобильном приложении.</p>
<p style="MARGIN: 0cm 0cm 0pt"> </p>
<p style="MARGIN: 0cm 0cm 0pt">Сообщение об неправильном номере полученного сообщения так же могут возникать, например, при восстановлении приложения из резервной копии или при некорректном завершении предыдущей синхронизации. Для исправления этой ситуации откройте в настольной программе форму Синхронизация с мобильными устройствами, откройте карточку устройства, в обмене с которым возникают ошибки, и исправьте Номер принятого сообщения на 0, а Номер отправленного сообщения на больший чем тот, что был указан в сообщении об ошибке. После этого повторите синхронизацию начиная с мобильного приложения.</p>
<p style="MARGIN: 0cm 0cm 0pt"> </p>
<p style="MARGIN: 0cm 0cm 0pt">Сохранность данных не зависит от сохранности файлов обмена в облаке. Программы отправляют друг другу все последние изменения до тех пор, пока не получат от корреспондента подтверждение о получении. Так что удаление файлов обмена из облака только затормозит синхронизацию но никак не повлияет на сохранность данных.</p>
<p style="MARGIN: 0cm 0cm 0pt">Если по каким-либо причинам из облака будет удален вспомогательный файл со списком устройств, необходимо еще раз проверить настройку синхронизации сначала в настольной программе, затем – во всех мобильных приложениях.<o:p></o:p></p>
<p class="Important" style="MARGIN: 0cm 0cm 0pt">Обратите внимание: настройку облачного сервиса нужно делать сначала в настольной программе, а затем в мобильных приложениях. А обмен данными – наоборот, сначала в мобильных приложениях, затем в настольной программе. </p>
<p style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p><o:p></o:p></p>
<p style="MARGIN: 0cm 0cm 0pt"><o:p></o:p> </p>
<p style="MARGIN: 0cm 0cm 0pt"><o:p></o:p> </p></body></html>